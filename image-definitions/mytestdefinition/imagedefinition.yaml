$schema: "1.0"
name: "mytest-dev"
image: microsoftvisualstudio_visualstudioplustools_vs-2022-ent-general-win11-m365-gen2
description: "This definition is for testing the team configuration in MS DevBox"

tasks:
  - name: winget
    description: Install VSCode
    parameters:
      package:  Microsoft.VisualStudioCode
  
  - name: winget
    description: Install Azure Storage Explorer
    parameters:
      package:  Microsoft.Azure.StorageExplorer
  
  - name: winget
    description: Install SQL Server Management Studio
    parameters:
      package:  Microsoft.SQLServerManagementStudio
  
  - name: winget
    description: Install OpenVPN
    parameters:
      package:  OpenVPNTechnologies.OpenVPN

  - name: powershell
    description: Install Postman in DevBox
    parameters:
      command: "Invoke-WebRequest -Uri 'https://dl.pstmn.io/download/latest/win64' -OutFile 'PostmanSetup.exe'; Start-Process -FilePath 'PostmanSetup.exe' -ArgumentList '/silent' -Wait; Remove-Item -Path 'PostmanSetup.exe'"

  - name: powershell
    description: Install Docker Desktop in DevBox
    parameters:
      command: "Invoke-WebRequest -Uri 'https://desktop.docker.com/win/stable/Docker%20Desktop%20Installer.exe' -OutFile 'DockerDesktopInstaller.exe'; Start-Process -FilePath 'DockerDesktopInstaller.exe' -ArgumentList '/quiet' -Wait; Remove-Item -Path 'DockerDesktopInstaller.exe'"

  